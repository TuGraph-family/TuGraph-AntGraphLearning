name: Codeql Analysis ğŸŒŠ

#æ¯å‘¨äº”çš„å‡Œæ™¨ 4 ç‚¹è§¦å‘æ‰§è¡Œã€‚
on:
  schedule:
    - cron: '0 4 * * 5'

jobs:
  # è¯¥å·¥ä½œæµç¨‹æœ‰ä¸€ä¸ªåä¸º "analyse" çš„ä»»åŠ¡ï¼Œç”¨äºè¿›è¡Œä»£ç è´¨é‡åˆ†æã€‚
  analyse:
    name: CodeQL
    runs-on: ubuntu-latest # ä»»åŠ¡è¿è¡Œåœ¨æœ€æ–°ç‰ˆçš„ Ubuntu æ“ä½œç³»ç»Ÿä¸Šã€‚

    steps:
      - name: Checkout repository
    	  # é¦–å…ˆï¼Œé€šè¿‡ "actions/checkout@v2" åŠ¨ä½œå°†ä»£ç ä»“åº“æ£€å‡ºåˆ°å·¥ä½œç›®å½•ã€‚
        uses: actions/checkout@v2
        with:
          # We must fetch at least the immediate parents so that if this is
          # a pull request then we can checkout the head.
          fetch-depth: 2

      # If this run was triggered by a pull request event, then checkout
      # the head of the pull request instead of the merge commit.
      # å¦‚æœè¯¥è¿è¡Œæ˜¯ç”± pull request äº‹ä»¶è§¦å‘çš„ï¼Œåˆ™ä½¿ç”¨ "git checkout" å‘½ä»¤å°†ä»£ç æ£€å‡ºåˆ° pull request çš„ headã€‚
      - run: git checkout HEAD^2
        if: ${{ github.event_name == 'pull_request' }}

      # Initializes the CodeQL tools for scanning.
      # ä½¿ç”¨ "github/codeql-action/init@v1" åŠ¨ä½œåˆå§‹åŒ– CodeQL å·¥å…·ä»¥è¿›è¡Œæ‰«æã€‚
      - name: Initialize CodeQL
        uses: github/codeql-action/init@v1
        # Override language selection by uncommenting this and choosing your languages
        # with:
        #   languages: go, javascript, csharp, python, cpp, java

      # Autobuild attempts to build any compiled languages  (C/C++, C#, or Java).
      # If this step fails, then you should remove it and run the build manually (see below)
      # å¦‚æœé¡¹ç›®æ˜¯ç¼–è¯‘è¯­è¨€ï¼ˆå¦‚ C/C++ã€C# æˆ– Javaï¼‰ï¼Œåˆ™ä½¿ç”¨ "github/codeql-action/autobuild@v1" åŠ¨ä½œå°è¯•è‡ªåŠ¨æ„å»ºé¡¹ç›®ã€‚
      - name: Autobuild
        uses: github/codeql-action/autobuild@v1

      # â„¹ï¸ Command-line programs to run using the OS shell.
      # ğŸ“š https://git.io/JvXDl

      # âœï¸ If the Autobuild fails above, remove it and uncomment the following three lines
      #    and modify them (or add more) to build your code if your project
      #    uses a compiled language

      #- run: |
      #   make bootstrap
      #   make release
      # å¦‚æœè‡ªåŠ¨æ„å»ºå¤±è´¥ï¼Œåˆ™éœ€è¦æ‰‹åŠ¨æ„å»ºé¡¹ç›®å¹¶å°†æ„å»ºå‘½ä»¤æ·»åŠ åˆ°è¿™é‡Œã€‚
      - name: Perform CodeQL Analysis
    	  #æœ€åï¼Œä½¿ç”¨ "github/codeql-action/analyze@v1" åŠ¨ä½œæ‰§è¡Œ CodeQL åˆ†æã€‚
        uses: github/codeql-action/analyze@v1
